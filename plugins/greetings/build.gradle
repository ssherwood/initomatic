apply plugin: 'kotlin'
apply plugin: 'kotlin-kapt'

dependencies {
    compile "org.jetbrains.kotlin:kotlin-stdlib-jdk8:$kotlinVersion"

    kapt("org.pf4j:pf4j:${pf4jVersion}") {
        exclude group: "org.slf4j"
    }

    // compileOnly important!!! We do not want to put the api into the zip file since the main program has it already!
    compileOnly project(':shared:initomatic-api')
    compile('org.apache.commons:commons-lang3:3.5')
}

task assemblePlugins(type: Copy) {
    dependsOn subprojects.assemblePlugin
}

build.dependsOn project.tasks.assemblePlugins